{"ast":null,"code":"const Geom = require('./base');\n\nconst Util = require('../util/common');\n\nrequire('./shape/polygon');\n\nclass Polygon extends Geom {\n  getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    cfg.type = 'polygon';\n    cfg.shapeType = 'polygon';\n    cfg.generatePoints = true;\n    return cfg;\n  }\n\n  createShapePointsCfg(obj) {\n    const cfg = super.createShapePointsCfg(obj);\n    const self = this;\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n\n    if (!(Util.isArray(x) && Util.isArray(y))) {\n      const xScale = self.getXScale();\n      const yScale = self.getYScale();\n      const xCount = xScale.values ? xScale.values.length : xScale.ticks.length;\n      const yCount = yScale.values ? yScale.values.length : yScale.ticks.length;\n      const xOffset = 0.5 * 1 / xCount;\n      const yOffset = 0.5 * 1 / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (Util.isArray(x)) {\n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (Util.isArray(y)) {\n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n\n      cfg.x = x;\n      cfg.y = y;\n    }\n\n    return cfg;\n  }\n\n}\n\nGeom.Polygon = Polygon;\nmodule.exports = Polygon;","map":{"version":3,"sources":["/home/sunxuming/react-typescript/node_modules/_@antv_f2@3.6.0-alpha.2@@antv/f2/src/geom/polygon.js"],"names":["Geom","require","Util","Polygon","getDefaultCfg","cfg","type","shapeType","generatePoints","createShapePointsCfg","obj","self","x","y","temp","isArray","xScale","getXScale","yScale","getYScale","xCount","values","length","ticks","yCount","xOffset","yOffset","isCategory","module","exports"],"mappings":"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","sourcesContent":["const Geom = require('./base');\nconst Util = require('../util/common');\nrequire('./shape/polygon');\n\nclass Polygon extends Geom {\n  getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    cfg.type = 'polygon';\n    cfg.shapeType = 'polygon';\n    cfg.generatePoints = true;\n    return cfg;\n  }\n\n  createShapePointsCfg(obj) {\n    const cfg = super.createShapePointsCfg(obj);\n    const self = this;\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    if (!(Util.isArray(x) && Util.isArray(y))) {\n      const xScale = self.getXScale();\n      const yScale = self.getYScale();\n      const xCount = xScale.values ? xScale.values.length : xScale.ticks.length;\n      const yCount = yScale.values ? yScale.values.length : yScale.ticks.length;\n      const xOffset = 0.5 * 1 / xCount;\n      const yOffset = 0.5 * 1 / yCount;\n      if (xScale.isCategory && yScale.isCategory) {\n        x = [ x - xOffset, x - xOffset, x + xOffset, x + xOffset ];\n        y = [ y - yOffset, y + yOffset, y + yOffset, y - yOffset ];\n      } else if (Util.isArray(x)) {\n        temp = x;\n        x = [ temp[0], temp[0], temp[1], temp[1] ];\n        y = [ y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2 ];\n      } else if (Util.isArray(y)) {\n        temp = y;\n        y = [ temp[0], temp[1], temp[1], temp[0] ];\n        x = [ x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2 ];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n\nGeom.Polygon = Polygon;\n\nmodule.exports = Polygon;\n"]},"metadata":{},"sourceType":"script"}