{"ast":null,"code":"/**\n * Animation functions for shape\n * @author sima.zhang1990@gmail.com\n */\nconst Util = require('../util/common');\n\nconst Helpers = require('./util');\n/*\nfunction waveIn(shape, animateCfg, coord) {\n  const clip = Helpers.getClip(coord);\n  clip.set('canvas', shape.get('canvas'));\n  shape.attr('clip', clip);\n  const onEnd = function() {\n    shape.attr('clip', null);\n    clip.remove(true);\n  };\n  Helpers.doAnimation(clip, clip.endState, animateCfg, onEnd);\n}\n\nfunction scaleInX(shape, animateCfg) {\n  const box = shape.getBBox();\n  const points = shape.get('origin').points;\n  let x;\n  const y = (box.minY + box.maxY) / 2;\n\n  if (points[0].y - points[1].y > 0) { // 当顶点在零点之下\n    x = box.maxX;\n  } else {\n    x = box.minX;\n  }\n  const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n  Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n}\n\nfunction scaleInY(shape, animateCfg) {\n  const box = shape.getBBox();\n  const points = shape.get('origin').points;\n  const x = (box.minX + box.maxX) / 2;\n  let y;\n\n  if (points[0].y - points[1].y <= 0) { // 当顶点在零点之下\n    y = box.maxY;\n  } else {\n    y = box.minY;\n  }\n  const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n  Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n}\n*/\n\n\nfunction fadeIn(shape, animateCfg) {\n  const fillOpacity = Util.isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n  const strokeOpacity = Util.isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('strokeOpacity', 0);\n  const endState = {\n    fillOpacity,\n    strokeOpacity\n  };\n  Helpers.doAnimation(shape, endState, animateCfg);\n}\n\nmodule.exports = {\n  // waveIn,\n  // scaleInX,\n  // scaleInY,\n  fadeIn\n};","map":{"version":3,"sources":["/home/sunxuming/react-typescript/node_modules/_@antv_f2@3.6.0-alpha.2@@antv/f2/src/animation/shape-action.js"],"names":["Util","require","Helpers","fadeIn","shape","animateCfg","fillOpacity","isNil","attr","strokeOpacity","endState","doAnimation","module","exports"],"mappings":"AAAA;;;;AAIA,MAAMA,IAAI,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,QAAD,CAAvB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,SAASE,MAAT,CAAgBC,KAAhB,EAAuBC,UAAvB,EAAmC;AACjC,QAAMC,WAAW,GAAGN,IAAI,CAACO,KAAL,CAAWH,KAAK,CAACI,IAAN,CAAW,aAAX,CAAX,IAAwC,CAAxC,GAA4CJ,KAAK,CAACI,IAAN,CAAW,aAAX,CAAhE;AACA,QAAMC,aAAa,GAAGT,IAAI,CAACO,KAAL,CAAWH,KAAK,CAACI,IAAN,CAAW,eAAX,CAAX,IAA0C,CAA1C,GAA8CJ,KAAK,CAACI,IAAN,CAAW,eAAX,CAApE;AACAJ,EAAAA,KAAK,CAACI,IAAN,CAAW,aAAX,EAA0B,CAA1B;AACAJ,EAAAA,KAAK,CAACI,IAAN,CAAW,eAAX,EAA4B,CAA5B;AACA,QAAME,QAAQ,GAAG;AACfJ,IAAAA,WADe;AAEfG,IAAAA;AAFe,GAAjB;AAIAP,EAAAA,OAAO,CAACS,WAAR,CAAoBP,KAApB,EAA2BM,QAA3B,EAAqCL,UAArC;AACD;;AAEDO,MAAM,CAACC,OAAP,GAAiB;AACf;AACA;AACA;AACAV,EAAAA;AAJe,CAAjB","sourcesContent":["/**\n * Animation functions for shape\n * @author sima.zhang1990@gmail.com\n */\nconst Util = require('../util/common');\nconst Helpers = require('./util');\n\n/*\nfunction waveIn(shape, animateCfg, coord) {\n  const clip = Helpers.getClip(coord);\n  clip.set('canvas', shape.get('canvas'));\n  shape.attr('clip', clip);\n  const onEnd = function() {\n    shape.attr('clip', null);\n    clip.remove(true);\n  };\n  Helpers.doAnimation(clip, clip.endState, animateCfg, onEnd);\n}\n\nfunction scaleInX(shape, animateCfg) {\n  const box = shape.getBBox();\n  const points = shape.get('origin').points;\n  let x;\n  const y = (box.minY + box.maxY) / 2;\n\n  if (points[0].y - points[1].y > 0) { // 当顶点在零点之下\n    x = box.maxX;\n  } else {\n    x = box.minX;\n  }\n  const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n  Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n}\n\nfunction scaleInY(shape, animateCfg) {\n  const box = shape.getBBox();\n  const points = shape.get('origin').points;\n  const x = (box.minX + box.maxX) / 2;\n  let y;\n\n  if (points[0].y - points[1].y <= 0) { // 当顶点在零点之下\n    y = box.maxY;\n  } else {\n    y = box.minY;\n  }\n  const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n  Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n}\n*/\n\nfunction fadeIn(shape, animateCfg) {\n  const fillOpacity = Util.isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n  const strokeOpacity = Util.isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('strokeOpacity', 0);\n  const endState = {\n    fillOpacity,\n    strokeOpacity\n  };\n  Helpers.doAnimation(shape, endState, animateCfg);\n}\n\nmodule.exports = {\n  // waveIn,\n  // scaleInX,\n  // scaleInY,\n  fadeIn\n};\n"]},"metadata":{},"sourceType":"script"}