{"ast":null,"code":"import axios from 'axios';\naxios.interceptors.response.use(response => {\n  // console.log(response)\n  if (response.status === 200) {\n    return response.data;\n  }\n}, error => {\n  return Promise.reject(error);\n});\nexport default {\n  getSongs() {\n    return axios({\n      headers: {\n        referer: 'https://c.y.qq.com',\n        host: 'c.y.qq.com'\n      },\n      method: 'get',\n      url: '/soso/fcgi-bin/search_for_qq_cp?_=1582883790354&g_tk=5381&uin=&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=h5&needNewCode=1&w= &zhidaqu=1&catZhida=1&t=0&flag=1&ie=utf-8&sem=1&aggr=0&perpage=20&n=20&p=2&remoteplace=txt.mqq.all'\n    });\n  },\n\n  /**\n   * 获取qq音乐评论\n   */\n  getComment(params, id) {\n    return axios({\n      url: '/local/comment',\n      method: 'get',\n      params: {\n        params,\n        id\n      }\n    });\n  },\n\n  /**\n   * 获取qq音乐播放链接\n   * https://c.y.qq.com/base/fcgi-bin/fcg_music_express_mobile3.fcg?format=json205361747&platform=yqq&cid=205361747&songmid=003lghpv0jfFXG&filename=C400003lghpv0jfFXG.m4a&guid=126548448\n   */\n  playSongs(params) {\n    return axios({\n      url: '/local/comment',\n      method: 'get',\n      params\n    });\n  },\n\n  searchSongsByName(params) {\n    //在用\n    return axios({\n      method: 'get',\n      url: '/api/soso/fcgi-bin/client_search_cp',\n      params\n    });\n  },\n\n  searchSongsBySinger(singer) {\n    return axios({\n      method: 'get',\n      url: '/singer',\n      params: {\n        singer\n      }\n    });\n  },\n\n  comments(id) {\n    return axios({\n      method: 'get',\n      url: '/cloudmusic',\n      params: {\n        type: 'comments',\n        id\n      }\n    });\n  }\n\n};","map":{"version":3,"sources":["/home/sunxuming/react-typescript/src/api/index.ts"],"names":["axios","interceptors","response","use","status","data","error","Promise","reject","getSongs","headers","referer","host","method","url","getComment","params","id","playSongs","searchSongsByName","searchSongsBySinger","singer","comments","type"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAoBAA,KAAK,CAACC,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgCD,QAAQ,IAAI;AAC1C;AACA,MAAIA,QAAQ,CAACE,MAAT,KAAkB,GAAtB,EAA2B;AACzB,WAAOF,QAAQ,CAACG,IAAhB;AACD;AACF,CALD,EAMCC,KAAD,IAAgB;AACd,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CARD;AASA,eAAe;AACXG,EAAAA,QAAQ,GAAG;AACT,WAAOT,KAAK,CAAC;AACXU,MAAAA,OAAO,EAAC;AACNC,QAAAA,OAAO,EAAE,oBADH;AAENC,QAAAA,IAAI,EAAE;AAFA,OADG;AAKXC,MAAAA,MAAM,EAAE,KALG;AAMXC,MAAAA,GAAG,EAAE;AANM,KAAD,CAAZ;AAQD,GAVU;;AAWX;;;AAGAC,EAAAA,UAAU,CAACC,MAAD,EAAeC,EAAf,EAA0B;AAClC,WAAOjB,KAAK,CAAC;AACXc,MAAAA,GAAG,EAAE,gBADM;AAEXD,MAAAA,MAAM,EAAE,KAFG;AAGXG,MAAAA,MAAM,EAAC;AACLA,QAAAA,MADK;AACEC,QAAAA;AADF;AAHI,KAAD,CAAZ;AAOD,GAtBU;;AAuBX;;;;AAIAC,EAAAA,SAAS,CAACF,MAAD,EAAgB;AACvB,WAAOhB,KAAK,CAAC;AACXc,MAAAA,GAAG,EAAE,gBADM;AAEXD,MAAAA,MAAM,EAAE,KAFG;AAGXG,MAAAA;AAHW,KAAD,CAAZ;AAKD,GAjCU;;AAkCXG,EAAAA,iBAAiB,CAACH,MAAD,EAAgB;AAAC;AAChC,WAAOhB,KAAK,CAAC;AACXa,MAAAA,MAAM,EAAE,KADG;AAEXC,MAAAA,GAAG,EAAE,qCAFM;AAGXE,MAAAA;AAHW,KAAD,CAAZ;AAKD,GAxCU;;AAyCXI,EAAAA,mBAAmB,CAACC,MAAD,EAAgB;AACjC,WAAOrB,KAAK,CAAC;AACXa,MAAAA,MAAM,EAAE,KADG;AAEXC,MAAAA,GAAG,EAAE,SAFM;AAGXE,MAAAA,MAAM,EAAE;AACNK,QAAAA;AADM;AAHG,KAAD,CAAZ;AAOD,GAjDU;;AAkDXC,EAAAA,QAAQ,CAACL,EAAD,EAAY;AAClB,WAAOjB,KAAK,CAAC;AACXa,MAAAA,MAAM,EAAE,KADG;AAEXC,MAAAA,GAAG,EAAE,aAFM;AAGXE,MAAAA,MAAM,EAAE;AACNO,QAAAA,IAAI,EAAE,UADA;AAENN,QAAAA;AAFM;AAHG,KAAD,CAAZ;AAQD;;AA3DU,CAAf","sourcesContent":["import axios from 'axios'\n\ninterface AxiosRequestConfig {\n  url: string;\n  method?: string;\n  headers?: any;\n  data?: any;\n  params?: any;\n  responseType?: XMLHttpRequestResponseType;\n}\ninterface AxiosResponse {\n  data: any; // 服务端返回的数据\n  status: number; // HTTP 状态码\n  statusText: string; // 状态消息\n  headers: any; // 响应头\n  config: AxiosRequestConfig; // 请求配置对象\n  request: any; // 请求的 XMLHttpRequest 对象实例\n}\ninterface AxiosPromise extends Promise<AxiosResponse> {\n}\naxios.interceptors.response.use(response => {\n  // console.log(response)\n  if (response.status===200) {\n    return response.data;\n  }\n},\n(error: any) => {\n  return Promise.reject(error);\n})\nexport default {\n    getSongs() {\n      return axios({\n        headers:{\n          referer: 'https://c.y.qq.com',\n          host: 'c.y.qq.com'\n        },\n        method: 'get',\n        url: '/soso/fcgi-bin/search_for_qq_cp?_=1582883790354&g_tk=5381&uin=&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=h5&needNewCode=1&w= &zhidaqu=1&catZhida=1&t=0&flag=1&ie=utf-8&sem=1&aggr=0&perpage=20&n=20&p=2&remoteplace=txt.mqq.all',\n      })\n    },\n    /**\n     * 获取qq音乐评论\n     */\n    getComment(params:object,id:string) {\n      return axios({\n        url: '/local/comment',\n        method: 'get',\n        params:{\n          params,id\n        }\n      })\n    },\n    /**\n     * 获取qq音乐播放链接\n     * https://c.y.qq.com/base/fcgi-bin/fcg_music_express_mobile3.fcg?format=json205361747&platform=yqq&cid=205361747&songmid=003lghpv0jfFXG&filename=C400003lghpv0jfFXG.m4a&guid=126548448\n     */\n    playSongs(params:object) {\n      return axios({\n        url: '/local/comment',\n        method: 'get',\n        params\n      })\n    },\n    searchSongsByName(params:object) {//在用\n      return axios({\n        method: 'get',\n        url: '/api/soso/fcgi-bin/client_search_cp',\n        params\n      })\n    },\n    searchSongsBySinger(singer:String) {\n      return axios({\n        method: 'get',\n        url: '/singer',\n        params: {\n          singer\n        }\n      })\n    },\n    comments(id:Number) {\n      return axios({\n        method: 'get',\n        url: '/cloudmusic',\n        params: {\n          type: 'comments',\n          id\n        }\n      })\n    }\n  }"]},"metadata":{},"sourceType":"module"}